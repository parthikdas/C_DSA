<!--
    To do get and post request to server for form, here we used external fetch req with server to post or get stuff.
    External meaning is while 'post', getting all the data and doing fetch() and same while 'get'
    Default if u use form method="action" it makes the data into url and send to server like http://localhost:3000?name="kittu"&age="11" like this so to process this see other folder named "inbuiltRequest"
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <style>
        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .form {
            border: 1px solid black;
            font-size: 1.5rem;
            padding: 1rem;
            width: fit-content;
        }
        input, button {
            font-size: 1.5rem;
            margin: 1rem;
        }
    </style>
</head>
<body>
    <div class="form">
        <label for="name">Name : </label>
        <input type="text" name="name" id="name">
        <br>
        <label for="age">Age : </label>
        <input type="number" name="age" id="age">
        <br>
        <button onclick="post()">Post</button>
        <button onclick="get()">Get</button>
    </div>
    <p id="show"></p>
    <script>
        let formName = document.getElementById('name'), formAge = document.getElementById('age')
        // https://stackoverflow.com/questions/22195065/how-to-send-a-json-object-using-html-form-data
        function post() {
            if(formName.value && formAge.value) {
                fetch('http://localhost:3000/data', {
                    method:'POST',
                    body: JSON.stringify({
                        'name' : formName.value,
                        'age' : formAge.value
                    })
                })
            }
        }
        function get() {
            fetch('http://localhost:3000/data')
            .then(data => data.json())
            .then(data => {
                console.log(data)
                document.getElementById('show').innerHTML = JSON.stringify(data)
            })
        }
    </script>
</body>
</html>